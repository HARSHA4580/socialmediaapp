{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HARSHA VARDHAN\\\\OneDrive\\\\Desktop\\\\microblogging\\\\frontend\\\\src\\\\components\\\\Post.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { API } from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Post({\n  post,\n  user,\n  refreshPosts\n}) {\n  _s();\n  var _post$user, _post$likes, _post$comments;\n  const [comment, setComment] = useState(\"\");\n  const handleLike = async () => {\n    if (!user) return alert(\"Login first\");\n    await API.put(`/posts/${post._id}/like`, {\n      userId: user._id\n    });\n    refreshPosts();\n  };\n  const handleComment = async () => {\n    if (!user) return alert(\"Login first\");\n    if (comment.trim() === \"\") return;\n    await API.put(`/posts/${post._id}/comment`, {\n      userId: user._id,\n      text: comment\n    });\n    setComment(\"\");\n    refreshPosts();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      border: \"1px solid gray\",\n      margin: \"10px\",\n      padding: \"10px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: [((_post$user = post.user) === null || _post$user === void 0 ? void 0 : _post$user.username) || \"Unknown\", \":\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this), \" \", post.text]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Likes: \", ((_post$likes = post.likes) === null || _post$likes === void 0 ? void 0 : _post$likes.length) || 0, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLike,\n        children: \"Like/Unlike\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: comment,\n        placeholder: \"Comment...\",\n        onChange: e => setComment(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleComment,\n        children: \"Comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: (_post$comments = post.comments) === null || _post$comments === void 0 ? void 0 : _post$comments.map((c, i) => {\n        var _c$user;\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: [((_c$user = c.user) === null || _c$user === void 0 ? void 0 : _c$user.username) || \"Unknown\", \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), \" \", c.text]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n}\n_s(Post, \"rrFebW9Q28aJJ+M9AxcXUmcj4W0=\");\n_c = Post;\nexport default Post;\nvar _c;\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"names":["React","useState","API","jsxDEV","_jsxDEV","Post","post","user","refreshPosts","_s","_post$user","_post$likes","_post$comments","comment","setComment","handleLike","alert","put","_id","userId","handleComment","trim","text","style","border","margin","padding","children","username","fileName","_jsxFileName","lineNumber","columnNumber","likes","length","onClick","type","value","placeholder","onChange","e","target","comments","map","c","i","_c$user","_c","$RefreshReg$"],"sources":["C:/Users/HARSHA VARDHAN/OneDrive/Desktop/microblogging/frontend/src/components/Post.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { API } from \"../api\";\r\n\r\nfunction Post({ post, user, refreshPosts }) {\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  const handleLike = async () => {\r\n    if (!user) return alert(\"Login first\");\r\n    await API.put(`/posts/${post._id}/like`, { userId: user._id });\r\n    refreshPosts();\r\n  };\r\n\r\n  const handleComment = async () => {\r\n    if (!user) return alert(\"Login first\");\r\n    if (comment.trim() === \"\") return;\r\n    await API.put(`/posts/${post._id}/comment`, { userId: user._id, text: comment });\r\n    setComment(\"\");\r\n    refreshPosts();\r\n  };\r\n\r\n  return (\r\n    <div style={{ border: \"1px solid gray\", margin: \"10px\", padding: \"10px\" }}>\r\n      {/* ✅ Post author */}\r\n      <p>\r\n        <b>{post.user?.username || \"Unknown\"}:</b> {post.text}\r\n      </p>\r\n\r\n      {/* ✅ Like section */}\r\n      <p>\r\n        Likes: {post.likes?.length || 0}{\" \"}\r\n        <button onClick={handleLike}>Like/Unlike</button>\r\n      </p>\r\n\r\n      {/* ✅ Comment input */}\r\n      <div>\r\n        <input\r\n          type=\"text\"\r\n          value={comment}\r\n          placeholder=\"Comment...\"\r\n          onChange={(e) => setComment(e.target.value)}\r\n        />\r\n        <button onClick={handleComment}>Comment</button>\r\n      </div>\r\n\r\n      {/* ✅ Show comments */}\r\n      <div>\r\n        {post.comments?.map((c, i) => (\r\n          <p key={i}>\r\n            <b>{c.user?.username || \"Unknown\"}:</b> {c.text}\r\n          </p>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}