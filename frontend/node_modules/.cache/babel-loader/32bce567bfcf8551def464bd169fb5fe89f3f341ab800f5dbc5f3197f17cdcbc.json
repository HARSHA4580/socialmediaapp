{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HARSHA VARDHAN\\\\OneDrive\\\\Desktop\\\\microblogging\\\\frontend\\\\src\\\\components\\\\Post.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { API } from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Post({\n  post,\n  user,\n  refreshPosts\n}) {\n  _s();\n  const [comment, setComment] = useState(\"\");\n  const [creatorName, setCreatorName] = useState(\"\");\n  useEffect(() => {\n    if (post.user) setCreatorName(post.user.username); // username for post\n  }, [post]);\n  const handleLike = async () => {\n    if (!user) return alert(\"Login first\");\n    await API.put(`/posts/${post._id}/like`, {\n      userId: user._id\n    });\n    refreshPosts();\n  };\n  const handleComment = async () => {\n    if (!user) return alert(\"Login first\");\n    if (comment.trim() === \"\") return;\n    await API.put(`/posts/${post._id}/comment`, {\n      userId: user._id,\n      text: comment\n    });\n    setComment(\"\");\n    refreshPosts();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      border: \"1px solid #ccc\",\n      borderRadius: \"8px\",\n      margin: \"10px 0\",\n      padding: \"15px\",\n      background: \"#f9f9f9\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontWeight: \"bold\"\n      },\n      children: creatorName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: post.content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"10px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLike,\n        style: likeBtnStyle,\n        children: [\"Like/Unlike (\", post.likes.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"10px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: comment,\n        placeholder: \"Add a comment...\",\n        onChange: e => setComment(e.target.value),\n        style: {\n          width: \"70%\",\n          padding: \"5px\",\n          borderRadius: \"4px\",\n          border: \"1px solid #ccc\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleComment,\n        style: commentBtnStyle,\n        children: \"Comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"10px\"\n      },\n      children: post.comments.map((c, i) => {\n        var _c$user;\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: [((_c$user = c.user) === null || _c$user === void 0 ? void 0 : _c$user.username) || c.userId, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), \" \", c.text]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(Post, \"+htlHpkGd3blPCFJ/QSqXmo5Bi0=\");\n_c = Post;\nconst likeBtnStyle = {\n  padding: \"5px 10px\",\n  background: \"#1976d2\",\n  color: \"white\",\n  border: \"none\",\n  borderRadius: \"4px\",\n  cursor: \"pointer\"\n};\nconst commentBtnStyle = {\n  padding: \"5px 10px\",\n  marginLeft: \"5px\",\n  background: \"#4caf50\",\n  color: \"white\",\n  border: \"none\",\n  borderRadius: \"4px\",\n  cursor: \"pointer\"\n};\nexport default Post;\nvar _c;\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"names":["React","useState","useEffect","API","jsxDEV","_jsxDEV","Post","post","user","refreshPosts","_s","comment","setComment","creatorName","setCreatorName","username","handleLike","alert","put","_id","userId","handleComment","trim","text","style","border","borderRadius","margin","padding","background","children","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","content","marginTop","onClick","likeBtnStyle","likes","length","type","value","placeholder","onChange","e","target","width","commentBtnStyle","comments","map","c","i","_c$user","_c","color","cursor","marginLeft","$RefreshReg$"],"sources":["C:/Users/HARSHA VARDHAN/OneDrive/Desktop/microblogging/frontend/src/components/Post.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { API } from \"../api\";\r\n\r\nfunction Post({ post, user, refreshPosts }) {\r\n  const [comment, setComment] = useState(\"\");\r\n  const [creatorName, setCreatorName] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (post.user) setCreatorName(post.user.username); // username for post\r\n  }, [post]);\r\n\r\n  const handleLike = async () => {\r\n    if (!user) return alert(\"Login first\");\r\n    await API.put(`/posts/${post._id}/like`, { userId: user._id });\r\n    refreshPosts();\r\n  };\r\n\r\n  const handleComment = async () => {\r\n    if (!user) return alert(\"Login first\");\r\n    if (comment.trim() === \"\") return;\r\n    await API.put(`/posts/${post._id}/comment`, { userId: user._id, text: comment });\r\n    setComment(\"\");\r\n    refreshPosts();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        border: \"1px solid #ccc\",\r\n        borderRadius: \"8px\",\r\n        margin: \"10px 0\",\r\n        padding: \"15px\",\r\n        background: \"#f9f9f9\",\r\n      }}\r\n    >\r\n      <p style={{ fontWeight: \"bold\" }}>{creatorName}</p>\r\n      <p>{post.content}</p>\r\n      <div style={{ marginTop: \"10px\" }}>\r\n        <button onClick={handleLike} style={likeBtnStyle}>\r\n          Like/Unlike ({post.likes.length})\r\n        </button>\r\n      </div>\r\n      <div style={{ marginTop: \"10px\" }}>\r\n        <input\r\n          type=\"text\"\r\n          value={comment}\r\n          placeholder=\"Add a comment...\"\r\n          onChange={(e) => setComment(e.target.value)}\r\n          style={{ width: \"70%\", padding: \"5px\", borderRadius: \"4px\", border: \"1px solid #ccc\" }}\r\n        />\r\n        <button onClick={handleComment} style={commentBtnStyle}>\r\n          Comment\r\n        </button>\r\n      </div>\r\n      <div style={{ marginTop: \"10px\" }}>\r\n        {post.comments.map((c, i) => (\r\n          <p key={i}>\r\n            <b>{c.user?.username || c.userId}:</b> {c.text}\r\n          </p>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst likeBtnStyle = {\r\n  padding: \"5px 10px\",\r\n  background: \"#1976d2\",\r\n  color: \"white\",\r\n  border: \"none\",\r\n  borderRadius: \"4px\",\r\n  cursor: \"pointer\",\r\n};\r\n\r\nconst commentBtnStyle = {\r\n  padding: \"5px 10px\",\r\n  marginLeft: \"5px\",\r\n  background: \"#4caf50\",\r\n  color: \"white\",\r\n  border: \"none\",\r\n  borderRadius: \"4px\",\r\n  cursor: \"pointer\",\r\n};\r\n\r\nexport default Post;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}