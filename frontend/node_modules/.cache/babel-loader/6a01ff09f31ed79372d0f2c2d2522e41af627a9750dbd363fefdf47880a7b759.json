{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HARSHA VARDHAN\\\\OneDrive\\\\Desktop\\\\microblogging\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = ({\n  user\n}) => {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const [postText, setPostText] = useState(\"\");\n\n  // Fetch all posts\n  const fetchPosts = async () => {\n    try {\n      const res = await axios.get(\"http://localhost:5000/posts\");\n      setPosts(res.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  useEffect(() => {\n    fetchPosts();\n  }, []);\n\n  // Create a new post\n  const handlePost = async () => {\n    if (!postText) return;\n    try {\n      await axios.post(\"http://localhost:5000/posts\", {\n        userId: user._id,\n        text: postText\n      });\n      setPostText(\"\");\n      fetchPosts();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  // Like / Unlike\n  const handleLike = async postId => {\n    try {\n      await axios.put(`http://localhost:5000/posts/${postId}/like`, {\n        userId: user._id\n      });\n      fetchPosts();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  // Add comment\n  const handleComment = async (postId, text) => {\n    if (!text) return;\n    try {\n      await axios.put(`http://localhost:5000/posts/${postId}/comment`, {\n        userId: user._id,\n        text\n      });\n      fetchPosts();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.newPost,\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        style: styles.textarea,\n        placeholder: \"What's on your mind?\",\n        value: postText,\n        onChange: e => setPostText(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: styles.postBtn,\n        onClick: handlePost,\n        children: \"Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"All Posts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), posts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.postCard,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: post.user.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: post.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleLike(post._id),\n        children: [\"Likes: \", post.likes.length, \" \\uD83D\\uDC4D\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.commentSection,\n        children: [post.comments.map((c, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [c.user.username, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this), \" \", c.text]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Comment...\",\n          style: styles.commentInput,\n          onKeyDown: async e => {\n            if (e.key === \"Enter\") {\n              await handleComment(post._id, e.target.value);\n              e.target.value = \"\";\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, post._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"aerwZfDKLsmRPL/DiE9yLZb6FWg=\");\n_c = Home;\nconst styles = {\n  container: {\n    padding: \"20px\",\n    maxWidth: \"600px\",\n    margin: \"0 auto\"\n  },\n  newPost: {\n    marginBottom: \"20px\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  textarea: {\n    padding: \"10px\",\n    borderRadius: \"6px\",\n    resize: \"none\",\n    marginBottom: \"10px\"\n  },\n  postBtn: {\n    width: \"100px\",\n    padding: \"6px 10px\",\n    backgroundColor: \"#1976d2\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: \"4px\",\n    cursor: \"pointer\"\n  },\n  postCard: {\n    padding: \"15px\",\n    marginBottom: \"15px\",\n    borderRadius: \"6px\",\n    backgroundColor: \"#f1f1f1\",\n    boxShadow: \"0 2px 5px rgba(0,0,0,0.1)\"\n  },\n  commentSection: {\n    marginTop: \"10px\"\n  },\n  commentInput: {\n    width: \"100%\",\n    padding: \"6px\",\n    borderRadius: \"4px\",\n    border: \"1px solid #ccc\"\n  }\n};\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","Home","user","_s","posts","setPosts","postText","setPostText","fetchPosts","res","get","data","err","console","log","handlePost","post","userId","_id","text","handleLike","postId","put","handleComment","style","styles","container","children","newPost","textarea","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","postBtn","onClick","map","postCard","username","likes","length","commentSection","comments","c","i","commentInput","onKeyDown","key","_c","padding","maxWidth","margin","marginBottom","display","flexDirection","borderRadius","resize","width","backgroundColor","color","border","cursor","boxShadow","marginTop","$RefreshReg$"],"sources":["C:/Users/HARSHA VARDHAN/OneDrive/Desktop/microblogging/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Home = ({ user }) => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [postText, setPostText] = useState(\"\");\r\n\r\n  // Fetch all posts\r\n  const fetchPosts = async () => {\r\n    try {\r\n      const res = await axios.get(\"http://localhost:5000/posts\");\r\n      setPosts(res.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  // Create a new post\r\n  const handlePost = async () => {\r\n    if (!postText) return;\r\n    try {\r\n      await axios.post(\"http://localhost:5000/posts\", {\r\n        userId: user._id,\r\n        text: postText,\r\n      });\r\n      setPostText(\"\");\r\n      fetchPosts();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // Like / Unlike\r\n  const handleLike = async (postId) => {\r\n    try {\r\n      await axios.put(`http://localhost:5000/posts/${postId}/like`, {\r\n        userId: user._id,\r\n      });\r\n      fetchPosts();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // Add comment\r\n  const handleComment = async (postId, text) => {\r\n    if (!text) return;\r\n    try {\r\n      await axios.put(`http://localhost:5000/posts/${postId}/comment`, {\r\n        userId: user._id,\r\n        text,\r\n      });\r\n      fetchPosts();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <div style={styles.newPost}>\r\n        <textarea\r\n          style={styles.textarea}\r\n          placeholder=\"What's on your mind?\"\r\n          value={postText}\r\n          onChange={(e) => setPostText(e.target.value)}\r\n        />\r\n        <button style={styles.postBtn} onClick={handlePost}>\r\n          Post\r\n        </button>\r\n      </div>\r\n\r\n      <h2>All Posts</h2>\r\n      {posts.map((post) => (\r\n        <div key={post._id} style={styles.postCard}>\r\n          <p><strong>{post.user.username}</strong></p>\r\n          <p>{post.text}</p>\r\n          <button onClick={() => handleLike(post._id)}>\r\n            Likes: {post.likes.length} üëç\r\n          </button>\r\n\r\n          <div style={styles.commentSection}>\r\n            {post.comments.map((c, i) => (\r\n              <p key={i}>\r\n                <strong>{c.user.username}:</strong> {c.text}\r\n              </p>\r\n            ))}\r\n            <input\r\n              placeholder=\"Comment...\"\r\n              style={styles.commentInput}\r\n              onKeyDown={async (e) => {\r\n                if (e.key === \"Enter\") {\r\n                  await handleComment(post._id, e.target.value);\r\n                  e.target.value = \"\";\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: { padding: \"20px\", maxWidth: \"600px\", margin: \"0 auto\" },\r\n  newPost: { marginBottom: \"20px\", display: \"flex\", flexDirection: \"column\" },\r\n  textarea: { padding: \"10px\", borderRadius: \"6px\", resize: \"none\", marginBottom: \"10px\" },\r\n  postBtn: { width: \"100px\", padding: \"6px 10px\", backgroundColor: \"#1976d2\", color: \"#fff\", border: \"none\", borderRadius: \"4px\", cursor: \"pointer\" },\r\n  postCard: { padding: \"15px\", marginBottom: \"15px\", borderRadius: \"6px\", backgroundColor: \"#f1f1f1\", boxShadow: \"0 2px 5px rgba(0,0,0,0.1)\" },\r\n  commentSection: { marginTop: \"10px\" },\r\n  commentInput: { width: \"100%\", padding: \"6px\", borderRadius: \"4px\", border: \"1px solid #ccc\" },\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}